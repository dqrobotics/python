language: cpp
env:
  global:
  - DEPS_DIR=${TRAVIS_BUILD_DIR}/deps
  - CXX_FLAGS="-Wall -pedantic -Werror -Wno-variadic-macros -Wno-long-long -Wno-shadow"
matrix:
  include:
  - os: linux
    dist: xenial
    sudo: true
    compiler: g++
    addons:
      apt:
        packages:
        - g++
        - libeigen3-dev
        - python3-pip
        - python3-dev
        - python3-setuptools
        - python3-wheel
        - python3-setuptools-git
script:
- python3 setup.py bdist_wheel
- cd dist
- rename 's/linux/manylinux1/' *
- cd ..
- python3 -m pip install twine
- python3 -m twine upload dist/*
